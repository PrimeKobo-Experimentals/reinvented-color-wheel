!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.ReinventedColorWheel=t()}(this,function(){"use strict";var m,f,i;function n(e,t,n){return Math.min(Math.max(e,t),n)}function s(e,t){var n=e%t;return n<0?n+t:n}function e(){}function p(e){e.preventDefault()}return"PointerEvent"in window?(m=function(t,n){return t.addEventListener("pointerdown",function(e){return i=t,n(e)})},f=function(t,n){return addEventListener("pointermove",function(e){return i===t&&n(e)})},addEventListener("pointerup",function(){return i=void 0})):"ontouchend"in window?(m=function(e,t){return e.addEventListener("touchstart",function(e){return e.preventDefault(),t(e.targetTouches[0])})},f=function(e,t){return e.addEventListener("touchmove",function(e){return e.preventDefault(),t(e.targetTouches[0])})}):(m=function(t,n){return t.addEventListener("mousedown",function(e){return i=t,n(e)})},f=function(t,n){return addEventListener("mousemove",function(e){return i===t&&n(e)})},addEventListener("mouseup",function(){return i=void 0})),function(){function c(e){this.h=NaN,this.s=NaN,this.l=NaN;var t=c.defaultOptions,n=this.wheelDiameter=e.wheelDiameter||t.wheelDiameter,i=this.wheelThickness=e.wheelThickness||t.wheelThickness,h=this.handleDiameter=e.handleDiameter||t.handleDiameter;this.onChange=e.onChange||t.onChange;var r=this.containerElement=e.parentElement.appendChild(document.createElement("div"));r.className="reinvented-color-wheel",r.addEventListener("pointerdown",p),r.addEventListener("mousedown",p);var o=this.hueWheelElement=r.appendChild(document.createElement("canvas")),s=this._onMoveHueHandle.bind(this);o.className="reinvented-color-wheel--hue-wheel",o.width=o.height=n,m(o,s),f(o,s);var a=this.hueHandleElement=r.appendChild(document.createElement("div")),l=a.style;a.className="reinvented-color-wheel--hue-handle",l.width=l.height=h+"px",l.marginLeft=l.marginTop=-h/2+"px";var u=r.appendChild(document.createElement("div")),d=u.style;u.className="reinvented-color-wheel--hue-inner-circle",d.left=d.top=i+"px",d.width=d.height=n-i-i+"px",this.setHSL({h:"number"==typeof e.h?e.h:t.h,s:"number"==typeof e.s?e.s:t.s,l:"number"==typeof e.l?e.l:t.l})}return c.prototype.setHSL=function(e){var t;"number"==typeof e.s&&e.s!==this.s&&(this.s=n(0|e.s,0,100),t=!0),"number"==typeof e.l&&e.l!==this.l&&(this.l=n(0|e.l,0,100),t=!0),t&&this._redrawHueWheel(),"number"==typeof e.h&&e.h!==this.h&&(this.h=s(0|e.h,360),this._redrawHueHandle())},c.prototype._redrawHueWheel=function(){for(var e=this.wheelDiameter/2,t=e-this.wheelThickness/2,n=this.hueWheelElement.getContext("2d"),i=Math.PI/180,h=0;h<360;h++)n.beginPath(),n.arc(e,e,t,(h-90.6)*i,(h-89.4)*i),n.strokeStyle="hsl("+h+","+this.s+"%,"+this.l+"%)",n.lineWidth=this.wheelThickness,n.stroke()},c.prototype._redrawHueHandle=function(){var e=this.wheelDiameter/2,t=e-this.wheelThickness/2,n=(this.h-90)*Math.PI/180;this.hueHandleElement.style.left=t*Math.cos(n)+e+"px",this.hueHandleElement.style.top=t*Math.sin(n)+e+"px"},c.prototype._onMoveHueHandle=function(e){var t=this.hueWheelElement.getBoundingClientRect(),n=this.wheelDiameter/2,i=e.clientX-t.left-n,h=e.clientY-t.top-n,r=Math.atan2(h,i),o=s(0|Math.round(180*r/Math.PI+90),360);o!==this.h&&(this.h=o,this._redrawHueHandle(),this.onChange(this))},c.defaultOptions={h:0,s:100,l:50,wheelDiameter:200,wheelThickness:20,handleDiameter:16,onChange:e},c}()});